(this["webpackJsonposcei-admin"]=this["webpackJsonposcei-admin"]||[]).push([[0],{107:function(e,t){},170:function(e,t,n){},602:function(e,t,n){},603:function(e,t,n){},604:function(e,t,n){},605:function(e,t,n){},606:function(e,t,n){},607:function(e,t,n){},608:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),i=n(18),r=n.n(i),o=(n(170),n(3)),l=n(20),s=n(22),u=n(642),j=n(645),d=n(647),b=n(151),h=n(648),O=n(1),f=Object(u.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}}));function g(e){var t=f(),n=Object(s.f)().push;return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{className:t.root,children:Object(O.jsx)(j.a,{position:"static",style:{background:"gray"},children:Object(O.jsxs)(d.a,{children:[Object(O.jsx)(b.a,{variant:"h6",className:t.title,children:"OSCEI"}),Object(O.jsx)(h.a,{color:"inherit",onClick:function(t){t.preventDefault(),e.logOut(),n("/")},children:"Log OUT"})]})})}),e.children]})}var p=n(16),x=n.n(p),m=n(23),v=n(649),y=n(650),C=n(672),k=n(668),S=n(148),w=n.n(S),_=n(19),I=n.n(_),U="http://35.178.22.72:4571",W=function(e){try{return I.a.post(U+"/user/login/",e).then((function(e){if(e.status<205)return localStorage.setItem("token",e.data.data.token),localStorage.setItem("user",e.data.data),{status:!0,message:e.data};throw"Somethings went wronge"}))}catch(t){return console.log("ERR: SERVICE: LOGIN ERR: ",t.message),{status:!1,message:t.message}}};function L(e){var t=T(),n=Object(a.useState)(""),c=Object(o.a)(n,2),i=c[0],r=c[1],l=Object(a.useState)(""),s=Object(o.a)(l,2),u=s[0],j=s[1],d=Object(a.useState)(!1),f=Object(o.a)(d,2),g=(f[0],f[1]),p=function(){var t=Object(m.a)(x.a.mark((function t(n){var a;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),g(!0),(a=new FormData).append("email",i),a.append("password",u),t.next=7,new Promise(function(){var t=Object(m.a)(x.a.mark((function t(n){return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,W(a);case 2:t.sent.status&&e.logIn(),n();case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(O.jsxs)(v.a,{component:"main",maxWidth:"xs",children:[Object(O.jsx)(y.a,{}),Object(O.jsxs)("div",{className:t.paper,children:[Object(O.jsx)(C.a,{className:t.avatar,children:Object(O.jsx)(w.a,{})}),Object(O.jsx)(b.a,{component:"h1",variant:"h5",children:"SIGN IN"}),Object(O.jsxs)("form",{className:t.form,noValidate:!0,onSubmit:p,onChange:function(e){var t=e.target;return"email"===t.name?r(t.value):j(t.value)},children:[Object(O.jsx)(k.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0}),Object(O.jsx)(k.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"}),Object(O.jsx)(h.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,children:"Sign In"})]})]})]})}var T=Object(u.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),N=n(11),A=n(609),R=n(658),E=n(662),D=n(661),B=n(657),P=n(659),H=n(666),F=n(660),z=n(53),M=n.n(z),K=n(671),G=n(656),q=n(655),V=n(654);function J(e){var t=Object(a.useState)(!0),n=Object(o.a)(t,2),c=n[0],i=n[1],r=Object(a.useState)(""),l=Object(o.a)(r,2),s=l[0],u=l[1],j=Object(a.useState)(""),d=Object(o.a)(j,2),b=d[0],f=d[1];Object(a.useEffect)((function(){u(e.name),f(e.iconUrl)}),[]);var g=function(){i(!1),e.close()};return Object(O.jsx)("div",{children:Object(O.jsxs)(K.a,{fullWidth:!0,open:c,onClose:g,"aria-labelledby":"form-dialog-title",children:[Object(O.jsx)(V.a,{id:"form-dialog-title",children:"Edit Complaints"}),Object(O.jsxs)(q.a,{children:[Object(O.jsx)(k.a,{fullWidth:!0,autoFocus:!0,margin:"dense",name:"name",label:"Complaint Name",type:"text",value:s,onChange:function(e){return u(e.target.value)}}),Object(O.jsx)("div",{style:{width:"80px",height:"80px",margin:"10px"},children:Object(O.jsx)("img",{style:{width:"50px",height:"50px"},src:b,alt:"icon"})}),Object(O.jsxs)(h.a,{variant:"contained",component:"label",children:["Upload Icon",Object(O.jsx)("input",{type:"file",accept:"image/*",hidden:!0,onChange:function(e){var t=e.target.files;f(URL.createObjectURL(t[0]))}})]})]}),Object(O.jsxs)(G.a,{children:[Object(O.jsx)(h.a,{onClick:g,color:"primary",children:"Cancel"}),Object(O.jsx)(h.a,{onClick:g,color:"primary",children:"Update"})]})]})})}var X=n(199);X.config.update({accessKeyId:"AKIAX2Z3VWO7JCD47PM6",secretAccessKey:"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",region:"ap-south-1"});var Z=new X.S3,Y=function(e){return Z.upload(e)},Q=function(e){var t=e.token,n=e.data;return I.a.post("http://35.178.22.72:4571/complaints",n,{headers:{authorization:"Bearer ".concat(t)}})};function $(e){var t=Object(a.useState)(!0),n=Object(o.a)(t,2),c=n[0],i=n[1],r=Object(a.useState)(""),l=Object(o.a)(r,2),s=l[0],u=l[1],j=Object(a.useState)(""),d=Object(o.a)(j,2),b=d[0],f=d[1],g=Object(a.useState)(void 0),p=Object(o.a)(g,2),v=p[0],y=p[1];Object(a.useEffect)((function(){}),[]);var C=function(){i(!1),e.close()},S=function(){var e=Object(m.a)(x.a.mark((function e(t,n){var a,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Y({Bucket:"osceai/complaints",Key:"".concat(n,".png"),Body:t}).promise(),c=!1,a.then((function(e){f(e.Location),c=!0})),a.catch((function(e){console.log("ERR UPLOAD",e.message),alert("something went wrong!"),c=!1})),e.abrupt("return",a.finally((function(){return c})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),w=function(){var t=Object(m.a)(x.a.mark((function t(){return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(b&&v){t.next=2;break}return t.abrupt("return",alert("Chose a file first"));case 2:if(s){t.next=4;break}return t.abrupt("return",alert("Please specify a name"));case 4:S(v,s).then(function(){var t=Object(m.a)(x.a.mark((function t(n){var a;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log("FILE UPLOADED ",n),n&&n.Key&&n.Location){t.next=3;break}return t.abrupt("return",alert("somethinge went wrong"));case 3:return a={name:s,iconUrl:b,source:"web"},t.next=6,new Promise((function(t){Q({token:localStorage.getItem("token"),data:a}).then((function(t){console.log(t),e.getComplaints(),C()})).catch((function(e){console.log("err post complaints ",e),alert("something went wrong!")}))}));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(O.jsx)("div",{children:Object(O.jsxs)(K.a,{fullWidth:!0,open:c,onClose:C,"aria-labelledby":"form-dialog-title",children:[Object(O.jsx)(V.a,{id:"form-dialog-title",children:"Add Complaint"}),Object(O.jsxs)(q.a,{children:[Object(O.jsx)(k.a,{fullWidth:!0,autoFocus:!0,margin:"dense",name:"name",label:"Complaint Name",type:"text",value:s,onChange:function(e){return u(e.target.value)}}),b&&Object(O.jsx)("div",{style:{width:"80px",height:"80px",margin:"10px"},children:Object(O.jsx)("img",{style:{width:"50px",height:"50px"},src:b,alt:"icon"})}),Object(O.jsxs)(h.a,{variant:"contained",component:"label",children:["Upload Icon",Object(O.jsx)("input",{type:"file",accept:"image/*",hidden:!0,onChange:function(e){var t=e.target.files;f(URL.createObjectURL(t[0])),y(t[0])}})]})]}),Object(O.jsxs)(G.a,{children:[Object(O.jsx)(h.a,{onClick:C,color:"primary",children:"Cancel"}),Object(O.jsx)(h.a,{onClick:w,color:"primary",children:"Add"})]})]})})}var ee=[{id:"name",label:"Name",minWidth:50},{id:"iconUrl",label:"Icon"},{id:"actions",label:"Actions",align:"center"}],te=Object(u.a)({root:{width:"100%"},container:{maxHeight:440}});function ne(e){var t=te(),n=(Object(s.h)().path,Object(s.f)().push),i=c.a.useState(1),r=Object(o.a)(i,2),l=r[0],u=r[1],j=c.a.useState(!1),d=Object(o.a)(j,2),b=d[0],f=d[1],g=c.a.useState(!1),p=Object(o.a)(g,2),x=p[0],m=p[1],v=c.a.useState({}),y=Object(o.a)(v,2),C=y[0];y[1];Object(a.useEffect)((function(){}),[e]);return Object(O.jsxs)(A.a,{className:t.root,children:[Object(O.jsxs)(B.a,{className:t.container,children:[Object(O.jsx)(h.a,{onClick:function(){return m(!0)},style:{background:"lightGrey"},children:"Add New"}),Object(O.jsxs)(R.a,{stickyHeader:!0,"aria-label":"sticky table",children:[Object(O.jsx)(P.a,{children:Object(O.jsx)(F.a,{children:ee.map((function(e){return Object(O.jsx)(D.a,{align:e.align,style:{minWidth:e.minWidth},children:e.label},e.id)}))})}),Object(O.jsx)(E.a,{children:e.complaints&&e.complaints.map((function(e,t){return Object(O.jsxs)(F.a,{children:[Object(O.jsx)(D.a,{align:"left",children:e.name},"name_".concat(t+e.name)),Object(O.jsx)(D.a,{align:"left",children:Object(O.jsx)("img",{style:{width:"20px",height:"20px"},src:e.iconUrl,alt:"iconUrl"})},"icon_".concat(t+e.iconUrl)),Object(O.jsx)(D.a,{align:"center",children:Object(O.jsx)(M.a,{onClick:function(){return n("/history/".concat(e._id))}})},"icon_".concat(t+e.id))]},t)}))})]})]}),Object(O.jsx)(H.a,{component:"div",count:e.length,rowsPerPage:8,page:e.page,onChangePage:function(t,n){u(n),e.setPage(l+1),setTimeout((function(){e.getComplaints()}))}}),b&&Object(O.jsx)(J,Object(N.a)(Object(N.a)({},C),{},{close:function(){return f(!1)}})),x&&Object(O.jsx)($,Object(N.a)(Object(N.a)(Object(N.a)({},e),C),{},{close:function(){return m(!1)}}))]})}n(602);var ae=function(e){var t=Object(a.useState)([]),n=Object(o.a)(t,2),c=n[0],i=n[1],r=Object(a.useState)(1),l=Object(o.a)(r,2),s=l[0],u=l[1],j=Object(a.useState)(0),d=Object(o.a)(j,2),h=d[0],f=d[1];Object(a.useEffect)((function(){g()}),[]);var g=function(){(function(e){var t=U+"/complaints/".concat(e.pageId);return I.a.get(t,{headers:{authorization:"Bearer ".concat(e.token)}})})({pageId:s,token:localStorage.getItem("token")}).then((function(e){var t=e.data.data,n=t.histories,a=t.count;f(a),i(n)}))};return Object(O.jsxs)("div",{className:"complaintsContainer",children:[Object(O.jsx)(b.a,{variant:"h3",children:" Complaints "}),Object(O.jsx)("hr",{}),Object(O.jsx)("div",{className:"tableWrapper",children:Object(O.jsx)(ne,{complaints:c,length:h,setPage:u,page:s-1,getComplaints:g})})]})},ce=n(45),ie=n.n(ce),re=n(46),oe=n.n(re);function le(e){var t=Object(s.g)().complaintId,n=Object(a.useState)(!0),c=Object(o.a)(n,2),i=c[0],r=c[1],l=Object(a.useState)(17),u=Object(o.a)(l,2),j=u[0],d=u[1],b=Object(a.useState)(""),f=Object(o.a)(b,2),g=f[0],p=f[1],v=Object(a.useState)(""),y=Object(o.a)(v,2),C=y[0],S=y[1],w=Object(a.useState)("male"),_=Object(o.a)(w,2),W=_[0],L=_[1],T=Object(a.useState)(""),N=Object(o.a)(T,2),A=N[0],R=N[1],E=Object(a.useState)(),D=Object(o.a)(E,2),B=D[0],P=D[1],H=Object(a.useState)({}),F=Object(o.a)(H,2),z=F[0],M=F[1],J=Object(a.useState)(""),X=Object(o.a)(J,2),Z=X[0],Q=X[1],$=Object(a.useState)(""),ee=Object(o.a)($,2),te=ee[0],ne=ee[1],ae=Object(a.useState)(),ce=Object(o.a)(ae,2),ie=ce[0],re=ce[1];Object(a.useEffect)((function(){var t=e.iconUrl,n=e.prompt,a=e.dialogflowCredentials,c=e.thumbnailUrl,i=e.grade,r=e.gender,o=e.age,l=e.colour;e.complaintId;M(a[0]),Q(n),d(o),p(l),ne(t),R(c),S(i),L(r)}),[]);var oe=function(){r(!1),e.close()},le=function(){var e=Object(m.a)(x.a.mark((function e(t,n){var a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return!1,(a=Y({Bucket:"osceai/history",Key:"".concat(n,".png"),Body:t}).promise()).then((function(e){ne(e.Location)})),a.catch((function(e){console.log("ERR UPLOAD",e.message),alert("something went wrong!")})),e.abrupt("return",a.finally((function(){return false})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),se=function(e){var t=e.target,n=z;n[t.name]=t.value,M(n)},ue=function(t){(function(e){var t=e.historyId,n=e.data,a=e.token,c=U+"/history/update/".concat(t);return I.a.put(c,n,{headers:{authorization:"Bearer ".concat(a)}})})(t).then((function(t){e.getHistories(),oe()}))};return Object(O.jsx)("div",{children:Object(O.jsxs)(K.a,{fullWidth:!0,open:i,onClose:oe,"aria-labelledby":"form-dialog-title",children:[Object(O.jsx)(V.a,{id:"form-dialog-title",children:"Edit History"}),Object(O.jsxs)(q.a,{children:[Object(O.jsx)(k.a,{fullWidth:!0,autoFocus:!0,margin:"dense",name:"prompt",label:"Prompt",type:"text",value:Z,onChange:function(e){return Q(e.target.value)}}),Object(O.jsx)(k.a,{fullWidth:!0,margin:"dense",name:"age",label:"Age",type:"number",value:j,onChange:function(e){return d(e.target.value)}}),Object(O.jsx)(k.a,{fullWidth:!0,margin:"dense",name:"colour",label:"Colour",type:"text",value:g,onChange:function(e){return p(e.target.value)}}),Object(O.jsx)(k.a,{fullWidth:!0,margin:"dense",name:"grade",label:"Grade",type:"text",value:C,onChange:function(e){return S(e.target.value)}}),Object(O.jsx)(k.a,{fullWidth:!0,margin:"dense",name:"gender",label:"Gender",type:"text",value:W,onChange:function(e){return L(e.target.value)}}),Object(O.jsxs)("div",{style:{margin:"15px"},children:[Object(O.jsxs)("label",{children:[" ",Object(O.jsx)("b",{children:"Dialog Flow Credentials:"})]}),Object(O.jsx)(k.a,{fullWidth:!0,margin:"dense",name:"auth_provider_x509_cert_url",label:"auth_provider_x509_cert_url",type:"text",value:z.auth_provider_x509_cert_url,onChange:se}),Object(O.jsx)(k.a,{fullWidth:!0,margin:"dense",name:"auth_uri",label:"auth_uri",type:"text",value:z.auth_uri,onChange:se}),Object(O.jsx)(k.a,{fullWidth:!0,margin:"dense",name:"client_email",label:"client_email",type:"text",value:z.client_email,onChange:se}),Object(O.jsx)(k.a,{fullWidth:!0,margin:"dense",name:"client_id",label:"client_id",type:"text",value:z.client_id,onChange:se}),Object(O.jsx)(k.a,{fullWidth:!0,margin:"dense",name:"client_x509_cert_url",label:"client_x509_cert_url",type:"text",value:z.client_x509_cert_url,onChange:se}),Object(O.jsx)(k.a,{fullWidth:!0,margin:"dense",name:"private_key",label:"private_key",type:"text",value:z.private_key,onChange:se}),Object(O.jsx)(k.a,{fullWidth:!0,margin:"dense",name:"private_key_id",label:"private_key_id",type:"text",value:z.private_key_id,onChange:se}),Object(O.jsx)(k.a,{fullWidth:!0,margin:"dense",name:"project_id",label:"project_id",type:"text",value:z.project_id,onChange:se}),Object(O.jsx)(k.a,{fullWidth:!0,margin:"dense",name:"token_uri",label:"token_uri",type:"text",value:z.token_uri,onChange:se}),Object(O.jsx)(k.a,{fullWidth:!0,margin:"dense",name:"type",label:"type",type:"text",value:z.type,onChange:se})]}),Object(O.jsxs)("div",{style:{margin:"15px"},children:[te&&Object(O.jsx)("div",{style:{width:"80px",height:"80px",margin:"10px"},children:Object(O.jsx)("img",{style:{width:"50px",height:"50px"},src:te,alt:"icon"})}),Object(O.jsxs)(h.a,{variant:"contained",component:"label",children:["Upload Icon",Object(O.jsx)("input",{type:"file",accept:"image/*",hidden:!0,onChange:function(e){var t=e.target.files;ne(URL.createObjectURL(t[0])),re(t[0])}})]})]}),Object(O.jsxs)("div",{style:{margin:"15px"},children:[A&&Object(O.jsx)("div",{style:{width:"80px",height:"80px",margin:"10px"},children:Object(O.jsx)("img",{style:{width:"50px",height:"50px"},src:A,alt:"icon"})}),Object(O.jsxs)(h.a,{variant:"contained",component:"label",children:["Upload Thumbnail",Object(O.jsx)("input",{type:"file",accept:"image/*",hidden:!0,onChange:function(e){var t=e.target.files;R(URL.createObjectURL(t[0])),P(t[0])}})]})]})]}),Object(O.jsxs)(G.a,{children:[Object(O.jsx)(h.a,{onClick:oe,color:"primary",children:"Cancel"}),Object(O.jsx)(h.a,{onClick:function(){if(!te)return alert("Chose a file first");if(!A)return alert("Chose a thumbnail first");var n=localStorage.getItem("token"),a=e._id,c={prompt:Z,age:j,gender:W,colour:g,grade:C,thumbnailUrl:e.thumbnailUrl,iconUrl:e.iconUrl,dialogflowCredentials:z,source:"web",complaintId:t};if(e.iconUrl===te&&A===e.thumbnailUrl)return ue({data:c,token:n,historyId:a});if(e.iconUrl!=te&&A===e.thumbnailUrl){if(!ie)return alert("Select a file first");le(ie,"iconUrl"+new Date).then((function(e){return e.Location?(c.iconUrl=e.Location,ue({data:c,token:n,historyId:a})):alert("Something went wrong!")}))}if(e.thumbnailUrl!=A&&e.iconUrl===te){if(!A)return alert("Select a thumbnail first");le(B,"iconUrl"+new Date).then((function(e){return e.Location?(c.thumbnailUrl=e.Location,ue({data:c,token:n,historyId:a})):alert("Something went wrong!")}))}if(e.thumbnailUrl!=A&&e.iconUrl!=te){if(!ie)return alert("Select a file first");if(!A)return alert("Select a thumbnail first");le(ie,"iconUrl"+new Date).then((function(e){if(!e.Location)return alert("Something went wrong!");le(B,"iconUrl"+new Date).then((function(t){return t.Location?(c.thumbnailUrl=t.Location,c.iconUrl=e.Location,ue({data:c,token:n,historyId:a})):alert("Something went wrong!")}))}))}},color:"primary",children:"Update"})]})]})})}function se(e){var t=Object(s.g)().complaintId,n=Object(a.useState)(!0),c=Object(o.a)(n,2),i=c[0],r=c[1],l=Object(a.useState)(17),u=Object(o.a)(l,2),j=u[0],d=u[1],b=Object(a.useState)(""),f=Object(o.a)(b,2),g=f[0],p=f[1],v=Object(a.useState)(""),y=Object(o.a)(v,2),C=y[0],S=y[1],w=Object(a.useState)("male"),_=Object(o.a)(w,2),U=_[0],W=_[1],L=Object(a.useState)({}),T=Object(o.a)(L,2),N=T[0],A=T[1],R=Object(a.useState)(""),E=Object(o.a)(R,2),D=E[0],B=E[1],P=Object(a.useState)(""),H=Object(o.a)(P,2),F=H[0],z=H[1],M=Object(a.useState)({}),J=Object(o.a)(M,2),X=J[0],Z=J[1];Object(a.useEffect)((function(){}),[]);var Q=function(){r(!1),e.close()},$=function(){var e=Object(m.a)(x.a.mark((function e(t,n){var a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return!1,(a=Y({Bucket:"osceai/history",Key:"".concat(n,".png"),Body:t}).promise()).then((function(e){z(e.Location)})),a.catch((function(e){console.log("ERR UPLOAD",e.message),alert("something went wrong!")})),e.abrupt("return",a.finally((function(){return false})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ee=function(e){var t=e.target,n=N;n[t.name]=t.value,A(n)},te=function(t){(function(e){var t=e.data,n=e.token;return I.a.post("http://35.178.22.72:4571/history/create",t,{headers:{authorization:"Bearer ".concat(n)}})})(t).then((function(t){e.getHistories(),Q()}))};return Object(O.jsx)("div",{children:Object(O.jsxs)(K.a,{fullWidth:!0,open:i,onClose:Q,"aria-labelledby":"form-dialog-title",children:[Object(O.jsx)(V.a,{id:"form-dialog-title",children:"Add History"}),Object(O.jsxs)(q.a,{children:[Object(O.jsx)(k.a,{fullWidth:!0,autoFocus:!0,margin:"dense",name:"prompt",label:"Prompt",type:"text",value:D,onChange:function(e){return B(e.target.value)}}),Object(O.jsx)(k.a,{fullWidth:!0,margin:"dense",name:"age",label:"Age",type:"number",value:j,onChange:function(e){return d(e.target.value)}}),Object(O.jsx)(k.a,{fullWidth:!0,margin:"dense",name:"colour",label:"Colour",type:"text",value:g,onChange:function(e){return p(e.target.value)}}),Object(O.jsx)(k.a,{fullWidth:!0,margin:"dense",name:"grade",label:"Grade",type:"text",value:C,onChange:function(e){return S(e.target.value)}}),Object(O.jsx)(k.a,{fullWidth:!0,margin:"dense",name:"gender",label:"Gender",type:"text",value:U,onChange:function(e){return W(e.target.value)}}),Object(O.jsxs)("div",{style:{margin:"15px"},children:[Object(O.jsxs)("label",{children:[" ",Object(O.jsx)("b",{children:"Dialog Flow Credentials:"})]}),Object(O.jsx)(k.a,{fullWidth:!0,margin:"dense",name:"auth_provider_x509_cert_url",label:"auth_provider_x509_cert_url",type:"text",value:N.auth_provider_x509_cert_url,onChange:ee}),Object(O.jsx)(k.a,{fullWidth:!0,margin:"dense",name:"auth_uri",label:"auth_uri",type:"text",value:N.auth_uri,onChange:ee}),Object(O.jsx)(k.a,{fullWidth:!0,margin:"dense",name:"client_email",label:"client_email",type:"text",value:N.client_email,onChange:ee}),Object(O.jsx)(k.a,{fullWidth:!0,margin:"dense",name:"client_id",label:"client_id",type:"text",value:N.client_id,onChange:ee}),Object(O.jsx)(k.a,{fullWidth:!0,margin:"dense",name:"client_x509_cert_url",label:"client_x509_cert_url",type:"text",value:N.client_x509_cert_url,onChange:ee}),Object(O.jsx)(k.a,{fullWidth:!0,margin:"dense",name:"private_key",label:"private_key",type:"text",value:N.private_key,onChange:ee}),Object(O.jsx)(k.a,{fullWidth:!0,margin:"dense",name:"private_key_id",label:"private_key_id",type:"text",value:N.private_key_id,onChange:ee}),Object(O.jsx)(k.a,{fullWidth:!0,margin:"dense",name:"project_id",label:"project_id",type:"text",value:N.project_id,onChange:ee}),Object(O.jsx)(k.a,{fullWidth:!0,margin:"dense",name:"token_uri",label:"token_uri",type:"text",value:N.token_uri,onChange:ee}),Object(O.jsx)(k.a,{fullWidth:!0,margin:"dense",name:"type",label:"type",type:"text",value:N.type,onChange:ee})]}),Object(O.jsxs)("div",{style:{margin:"15px"},children:[F&&Object(O.jsx)("div",{style:{width:"80px",height:"80px",margin:"10px"},children:Object(O.jsx)("img",{style:{width:"50px",height:"50px"},src:F,alt:"icon"})}),Object(O.jsxs)(h.a,{variant:"contained",component:"label",children:["Upload Icon",Object(O.jsx)("input",{type:"file",accept:"image/*",hidden:!0,onChange:function(e){var t=e.target.files;z(URL.createObjectURL(t[0])),Z(t[0])}})]})]})]}),Object(O.jsxs)(G.a,{children:[Object(O.jsx)(h.a,{onClick:Q,color:"primary",children:"Cancel"}),Object(O.jsx)(h.a,{onClick:function(){if(!F||!X)return alert("Chose a file first");$(X,"iconUrl_"+new Date).then((function(e){if(!e||!e.Key||!e.Location)return alert("something went wrong");var n={prompt:D,age:j,gender:U,colour:g,iconUrl:e.Location,dialogflowCredentials:N,source:"web",complaintId:t};te({data:n,token:localStorage.getItem("token")})}))},color:"primary",children:"Add"})]})]})})}var ue=[{id:"prompt",label:"Prompt",minWidth:20,maxWidth:20},{id:"iconUrl",label:"Icon"},{id:"actions",label:"Actions",align:"center",minWidth:100}],je=Object(u.a)({root:{width:"100%"},container:{maxHeight:440}});function de(e){var t=je(),n=Object(s.f)().push,i=c.a.useState(1),r=Object(o.a)(i,2),l=(r[0],r[1],c.a.useState(!1)),u=Object(o.a)(l,2),j=u[0],d=u[1],b=c.a.useState(!1),f=Object(o.a)(b,2),g=f[0],p=f[1],x=c.a.useState({}),m=Object(o.a)(x,2),v=m[0],y=m[1];Object(a.useEffect)((function(){}),[e]);var C=function(t){return window.confirm("Are sure to delete")?function(e){var t=e.historyId,n=e.token,a=U+"/history/delete/".concat(t);return I.a.delete(a,{headers:{authorization:"Bearer ".concat(n)}})}({historyId:t,token:localStorage.getItem("token")}).then((function(t){e.getHistories()})):alert("Not delted")};return Object(O.jsxs)(A.a,{className:t.root,children:[Object(O.jsxs)(B.a,{className:t.container,children:[Object(O.jsx)(h.a,{onClick:function(){return p(!0)},style:{background:"lightGrey"},children:"Add New"}),Object(O.jsxs)(R.a,{stickyHeader:!0,"aria-label":"sticky table",children:[Object(O.jsx)(P.a,{children:Object(O.jsx)(F.a,{children:ue.map((function(e){return Object(O.jsx)(D.a,{align:e.align,style:{minWidth:e.minWidth,maxWidth:e.maxWidth},children:e.label},e.id)}))})}),Object(O.jsx)(E.a,{children:e.complaints&&e.complaints.map((function(e,t){return Object(O.jsxs)(F.a,{children:[Object(O.jsx)(D.a,{align:"left",children:e.prompt},"name_".concat(t+e.name)),Object(O.jsx)(D.a,{align:"left",children:Object(O.jsx)("img",{style:{width:"20px",height:"20px"},src:e.iconUrl,alt:"iconUrl"})},"icon_".concat(t+e.iconUrl)),Object(O.jsx)(D.a,{align:"center",children:Object(O.jsxs)("div",{children:[Object(O.jsx)(ie.a,{className:"pointer",onClick:function(){!function(e){d(!0),y(e)}(e)}}),Object(O.jsx)(oe.a,{className:"pointer",onClick:function(){return C(e._id)}}),Object(O.jsxs)("div",{style:{textAlign:"center"},children:["view Feedbacks",Object(O.jsx)(M.a,{className:"pointer",onClick:function(){return n("/feedback/".concat(e._id))}})]}),Object(O.jsxs)("div",{children:["view Conditions",Object(O.jsx)(M.a,{className:"pointer",onClick:function(){return n("/condition/".concat(e._id))}})]})]})},"icon_".concat(t+e.id))]},t)}))})]})]}),j&&Object(O.jsx)(le,Object(N.a)(Object(N.a)(Object(N.a)({},e),v),{},{close:function(){return d(!1)}})),g&&Object(O.jsx)(se,Object(N.a)(Object(N.a)(Object(N.a)({},e),v),{},{close:function(){return p(!1)}}))]})}n(603);var be=function(e){var t=Object(a.useState)([]),n=Object(o.a)(t,2),c=n[0],i=n[1],r=Object(a.useState)(1),u=Object(o.a)(r,2),j=u[0],d=(u[1],Object(a.useState)(0)),h=Object(o.a)(d,2),f=h[0],g=h[1],p=Object(s.g)().complaintId;Object(a.useEffect)((function(){x()}),[]);var x=function(){(function(e){var t=U+"/history/get/".concat(e.pageId,"/").concat(e.complaintId);return I.a.get(t,{headers:{authorization:"Bearer ".concat(e.token)}})})({pageId:j,token:localStorage.getItem("token"),complaintId:p}).then((function(e){var t=e.data.data,n=t.histories,a=t.count;g(a),i(n)}))};return Object(O.jsxs)("div",{className:"complaintsContainer",children:[Object(O.jsxs)("span",{children:[" ",Object(O.jsx)(l.b,{to:"/",children:"Complaints"})," / Histories"]}),Object(O.jsx)(b.a,{variant:"h4",children:" Histories"}),Object(O.jsx)("hr",{}),Object(O.jsx)("div",{className:"tableWrapper",children:Object(O.jsx)(de,{complaints:c,length:f,getHistories:x,page:j-1})})]})},he=n(13),Oe={text:"",title:"",iconUlr:"https://osceai.s3.ap-south-1.amazonaws.com/complaints/love%403x.png",thumbnailUrl:"https://osceai.s3.ap-south-1.amazonaws.com/thumbnails/love-2.png"};function fe(e){var t=Object(a.useState)(!0),n=Object(o.a)(t,2),c=n[0],i=n[1],r=Object(a.useState)(""),l=Object(o.a)(r,2),s=l[0],u=l[1],j=Object(a.useState)(""),d=Object(o.a)(j,2),b=d[0],f=d[1],g=Object(a.useState)([Oe,Oe,Oe,Oe]),p=Object(o.a)(g,2),x=p[0],m=p[1];Object(a.useEffect)((function(){var t=e.tileData,n=e.title,a=e.subTitle;u(n),f(a),m(t)}),[]);var v=function(){i(!1),e.close()},y=function(e,t){var n=t.value,a=t.name,c=Object(he.a)(x),i=Object(N.a)({},c[e]);i[a]=n,c[e]=i,m(c)};return Object(O.jsx)("div",{children:Object(O.jsxs)(K.a,{fullWidth:!0,open:c,onClose:v,"aria-labelledby":"form-dialog-title",children:[Object(O.jsx)(V.a,{id:"form-dialog-title",children:"Add Condition"}),Object(O.jsxs)(q.a,{children:[Object(O.jsx)(k.a,{fullWidth:!0,autoFocus:!0,margin:"dense",name:"title",label:"Title",type:"text",value:s,onChange:function(e){return u(e.target.value)}}),Object(O.jsx)(k.a,{fullWidth:!0,margin:"dense",name:"subTitle",label:"Sub Title",type:"text",value:b,onChange:function(e){return f(e.target.value)}}),Object(O.jsxs)("div",{style:{margin:"10px"},children:[Object(O.jsx)("h4",{children:"Tile Data"}),x.map((function(e,t){return Object(O.jsx)(ge,Object(N.a)(Object(N.a)({},e),{},{index:t,onChange:y}))}))]})]}),Object(O.jsxs)(G.a,{children:[Object(O.jsx)(h.a,{onClick:v,color:"primary",children:"Cancel"}),Object(O.jsx)(h.a,{onClick:function(){if(!s||!b)return alert("Check form");var t={title:s,subTitle:b,tileData:x};(function(e){var t=e.conditionId,n=e.data,a=e.token,c=U+"/conditions/".concat(t);return I.a.put(c,n,{headers:{authorization:"Bearer ".concat(a)}})})({conditionId:e._id,data:t,token:localStorage.getItem("token")}).then((function(t){e.getConditions(),v()})).catch((function(e){alert("something went wrong"),console.log(e)}))},color:"primary",children:"Update"})]})]})})}var ge=function(e){var t=Object(a.useState)(!1),n=Object(o.a)(t,2),c=n[0],i=n[1],r=Object(a.useState)(!1),l=Object(o.a)(r,2),s=(l[0],l[1]),u=Object(a.useState)(e.iconUlr),j=Object(o.a)(u,2),d=j[0],b=j[1],f=Object(a.useState)(),g=Object(o.a)(f,2),p=g[0],v=g[1],y=Object(a.useState)(""),C=Object(o.a)(y,2),S=(C[0],C[1],Object(a.useState)()),w=Object(o.a)(S,2),_=(w[0],w[1],function(){var t=Object(m.a)(x.a.mark((function t(n,a){var c,r;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c=new Date,(r=Y({Bucket:"osceai/condition",Key:"".concat(a+c.toUTCString()+"_"+c.toLocaleTimeString(),".png"),Body:n}).promise()).then((function(t){b(t.Location),"iconUlr"===a&&i(!0),"thumbnailUrl"===a&&s(!0),e.onChange(e.index,{name:a,value:t.Location})})),r.catch((function(e){console.log("ERR UPLOAD",e.message),alert("something went wrong!")}));case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}());return Object(O.jsxs)("div",{children:[Object(O.jsx)(k.a,{fullWidth:!0,margin:"dense",name:"title",label:"Title",type:"text",value:e.title,onChange:function(t){return e.onChange(e.index,t.target)}}),Object(O.jsx)(k.a,{fullWidth:!0,margin:"dense",name:"text",label:"Text",type:"text",value:e.text,onChange:function(t){return e.onChange(e.index,t.target)}}),Object(O.jsxs)("div",{style:{margin:"15px"},children:[d&&Object(O.jsx)("div",{style:{width:"80px",height:"80px",margin:"10px"},children:Object(O.jsx)("img",{style:{width:"50px",height:"50px"},src:d,alt:"icon"})}),!c&&(p&&p.name?Object(O.jsx)(h.a,{variant:"contained",color:"primary",onClick:function(){return _(p,"iconUlr")},children:"Upload Icon"}):Object(O.jsxs)(h.a,{variant:"contained",component:"label",children:["Select Icon",Object(O.jsx)("input",{type:"file",accept:"image/*",hidden:!0,onChange:function(e){var t=e.target.files;b(URL.createObjectURL(t[0])),v(t[0])}})]}))]})]})},pe={text:"",title:"",iconUlr:"https://osceai.s3.ap-south-1.amazonaws.com/complaints/love%403x.png",thumbnailUrl:"https://osceai.s3.ap-south-1.amazonaws.com/thumbnails/love-2.png"};function xe(e){var t=Object(s.g)().historyId,n=Object(a.useState)(!0),c=Object(o.a)(n,2),i=c[0],r=c[1],l=Object(a.useState)(""),u=Object(o.a)(l,2),j=u[0],d=u[1],b=Object(a.useState)(""),f=Object(o.a)(b,2),g=f[0],p=f[1],x=Object(a.useState)([pe,pe,pe,pe]),m=Object(o.a)(x,2),v=m[0],y=m[1];Object(a.useEffect)((function(){}),[]);var C=function(){r(!1),e.close()},S=function(e,t){var n=t.value,a=t.name,c=Object(he.a)(v),i=Object(N.a)({},c[e]);i[a]=n,c[e]=i,y(c)};return Object(O.jsx)("div",{children:Object(O.jsxs)(K.a,{fullWidth:!0,open:i,onClose:C,"aria-labelledby":"form-dialog-title",children:[Object(O.jsx)(V.a,{id:"form-dialog-title",children:"Add Condition"}),Object(O.jsxs)(q.a,{children:[Object(O.jsx)(k.a,{fullWidth:!0,autoFocus:!0,margin:"dense",name:"title",label:"Title",type:"text",value:j,onChange:function(e){return d(e.target.value)}}),Object(O.jsx)(k.a,{fullWidth:!0,margin:"dense",name:"subTitle",label:"Sub Title",type:"text",value:g,onChange:function(e){return p(e.target.value)}}),Object(O.jsxs)("div",{style:{margin:"10px"},children:[Object(O.jsx)("h4",{children:"Tile Data"}),v.map((function(e,t){return Object(O.jsx)(me,Object(N.a)(Object(N.a)({},e),{},{index:t,onChange:S}))}))]})]}),Object(O.jsxs)(G.a,{children:[Object(O.jsx)(h.a,{onClick:C,color:"primary",children:"Cancel"}),Object(O.jsx)(h.a,{onClick:function(){if(!j||!g)return alert("Check form");(function(e){var t=e.data,n=e.token;return I.a.post("http://35.178.22.72:4571/conditions",t,{headers:{authorization:"Bearer ".concat(n)}})})({data:{title:j,subTitle:g,tileData:v,historyId:t,source:"web"},token:localStorage.getItem("token")}).then((function(t){e.getConditions(),C()})).catch((function(e){alert("something went wrong"),console.log(e)}))},color:"primary",children:"Add"})]})]})})}var me=function(e){var t=Object(a.useState)(!1),n=Object(o.a)(t,2),c=n[0],i=n[1],r=Object(a.useState)(!1),l=Object(o.a)(r,2),s=(l[0],l[1]),u=Object(a.useState)(pe.iconUlr),j=Object(o.a)(u,2),d=j[0],b=j[1],f=Object(a.useState)(),g=Object(o.a)(f,2),p=g[0],v=g[1],y=Object(a.useState)(""),C=Object(o.a)(y,2),S=(C[0],C[1],Object(a.useState)()),w=Object(o.a)(S,2),_=(w[0],w[1],function(){var t=Object(m.a)(x.a.mark((function t(n,a){var c,r;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c=new Date,(r=Y({Bucket:"osceai/condition",Key:"".concat(a+c.toUTCString()+"_"+c.toLocaleTimeString(),".png"),Body:n}).promise()).then((function(t){b(t.Location),"iconUlr"===a&&i(!0),"thumbnailUrl"===a&&s(!0),e.onChange(e.index,{name:a,value:t.Location})})),r.catch((function(e){console.log("ERR UPLOAD",e.message),alert("something went wrong!")}));case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}());return Object(O.jsxs)("div",{children:[Object(O.jsx)(k.a,{fullWidth:!0,margin:"dense",name:"title",label:"Title",type:"text",value:e.title,onChange:function(t){return e.onChange(e.index,t.target)}}),Object(O.jsx)(k.a,{fullWidth:!0,margin:"dense",name:"text",label:"Text",type:"text",value:e.text,onChange:function(t){return e.onChange(e.index,t.target)}}),Object(O.jsxs)("div",{style:{margin:"15px"},children:[d&&Object(O.jsx)("div",{style:{width:"80px",height:"80px",margin:"10px"},children:Object(O.jsx)("img",{style:{width:"50px",height:"50px"},src:d,alt:"icon"})}),!c&&(p&&p.name?Object(O.jsx)(h.a,{variant:"contained",color:"primary",onClick:function(){return _(p,"iconUlr")},children:"Upload Icon"}):Object(O.jsxs)(h.a,{variant:"contained",component:"label",children:["Select Icon",Object(O.jsx)("input",{type:"file",accept:"image/*",hidden:!0,onChange:function(e){var t=e.target.files;b(URL.createObjectURL(t[0])),v(t[0])}})]}))]})]})},ve=[{id:"title",label:"Title",minWidth:50},{id:"subTitle",label:"Sub Title"},{id:"actions",label:"Actions",align:"center"}],ye=Object(u.a)({root:{width:"100%"},container:{maxHeight:440}});function Ce(e){var t=ye(),n=c.a.useState(1),i=Object(o.a)(n,2),r=(i[0],i[1],c.a.useState(!1)),l=Object(o.a)(r,2),s=l[0],u=l[1],j=c.a.useState(!1),d=Object(o.a)(j,2),b=d[0],f=d[1],g=c.a.useState({}),p=Object(o.a)(g,2),x=p[0],m=p[1];Object(a.useEffect)((function(){}),[e]);var v=function(t){(function(e){var t=e.conditionId,n=e.token,a=U+"/conditions/".concat(t);return I.a.delete(a,{headers:{authorization:"Bearer ".concat(n)}})})({conditionId:t._id,token:localStorage.getItem("token")}).then((function(t){if("string"===typeof t)return alert("Something went Wrong!");e.getCards()}))};return Object(O.jsxs)(A.a,{className:t.root,children:[Object(O.jsxs)(B.a,{className:t.container,children:[Object(O.jsx)(h.a,{onClick:function(){return f(!0)},style:{background:"lightGrey"},children:"Add New"}),Object(O.jsxs)(R.a,{stickyHeader:!0,"aria-label":"sticky table",children:[Object(O.jsx)(P.a,{children:Object(O.jsx)(F.a,{children:ve.map((function(e){return Object(O.jsx)(D.a,{align:e.align,style:{minWidth:e.minWidth},children:e.label},e.id)}))})}),Object(O.jsx)(E.a,{children:e.complaints&&e.complaints.length>0&&e.complaints.map((function(e,t){return Object(O.jsxs)(F.a,{children:[Object(O.jsx)(D.a,{align:"left",children:e.title},"TITLE_".concat(t+e.title)),Object(O.jsx)(D.a,{align:"left",children:e.subTitle},"TILE_DATA_".concat(t+e.subTitle)),Object(O.jsxs)(D.a,{align:"center",children:[Object(O.jsx)(ie.a,{className:"pointer",onClick:function(){!function(e){u(!0),m(e)}(e)}}),Object(O.jsx)(oe.a,{className:"pointer",onClick:function(){v(e)}})]},"icon_".concat(t+e.id))]},t)}))})]})]}),s&&Object(O.jsx)(fe,Object(N.a)(Object(N.a)(Object(N.a)({},e),x),{},{close:function(){return u(!1)}})),b&&Object(O.jsx)(xe,Object(N.a)(Object(N.a)(Object(N.a)({},e),x),{},{close:function(){return f(!1)}}))]})}n(604);var ke=function(e){var t=Object(s.g)().historyId,n=Object(s.f)(),c=Object(a.useState)([]),i=Object(o.a)(c,2),r=i[0],u=i[1],j=Object(a.useState)(1),d=Object(o.a)(j,2),h=d[0],f=(d[1],Object(a.useState)(0)),g=Object(o.a)(f,2),p=g[0];g[1];Object(a.useEffect)((function(){x()}),[]);var x=function(){(function(e){var t=U+"/conditions/".concat(e.historyId);return I.a.get(t,{headers:{authorization:"Bearer ".concat(e.token)}})})({historyId:t,token:localStorage.getItem("token")}).then((function(e){e.data.data.count;var t=Object(he.a)(e.data.data);u(t)}))};return Object(O.jsxs)("div",{className:"complaintsContainer",children:[Object(O.jsxs)("span",{children:[" ",Object(O.jsx)(l.b,{to:"/",children:"Complaints"})," / ",Object(O.jsx)(l.b,{onClick:function(){return n.goBack()},children:"Histories"})," / Conditions"]}),Object(O.jsx)(b.a,{variant:"h4",children:" Conditions "}),Object(O.jsx)("hr",{}),Object(O.jsx)("div",{className:"tableWrapper",children:Object(O.jsx)(Ce,{complaints:r,getConditions:x,length:p,page:h-1})})]})},Se=n(664),we=n(670),_e=n(674),Ie=n(667),Ue=Object(u.a)((function(e){return{root:{width:500,"& > * + *":{marginTop:e.spacing(3)}}}}));function We(e){var t=Ue(),n=Object(a.useState)([]),c=Object(o.a)(n,2),i=c[0];c[1];return Object(O.jsx)("div",{className:t.root,children:Object(O.jsx)(Ie.a,{multiple:!0,id:"tags-filled",options:i.map((function(e){return e.title})),freeSolo:!0,renderTags:function(e,t){return e.map((function(e,n){return Object(O.jsx)(_e.a,Object(N.a)({variant:"outlined",label:e},t({index:n})))}))},onChange:e.onChange,renderInput:function(t){return Object(O.jsx)(k.a,Object(N.a)(Object(N.a)({},t),{},{variant:"outlined",label:e.label,placeholder:e.placeholder}))}})})}function Le(e){var t=Object(a.useState)(!0),n=Object(o.a)(t,2),c=n[0],i=n[1],r=Object(a.useState)(""),l=Object(o.a)(r,2),s=l[0],u=l[1],j=Object(a.useState)(""),d=Object(o.a)(j,2),b=d[0],f=d[1],g=Object(a.useState)(""),p=Object(o.a)(g,2),x=p[0],m=p[1],v=Object(a.useState)(0),y=Object(o.a)(v,2),C=y[0],S=y[1],w=Object(a.useState)(""),_=Object(o.a)(w,2),W=_[0],L=_[1],T=Object(a.useState)(""),N=Object(o.a)(T,2),A=N[0],R=N[1],E=Object(a.useState)(!0),D=Object(o.a)(E,2),B=D[0],P=D[1],H=Object(a.useState)(!0),F=Object(o.a)(H,2),z=F[0],M=F[1],J=Object(a.useState)([]),X=Object(o.a)(J,2),Z=X[0],Y=X[1],Q=Object(a.useState)([]),$=Object(o.a)(Q,2),ee=$[0],te=$[1];Object(a.useEffect)((function(){console.log("PROPS  ",e),u(e.title),f(e.heading),m(e.subHeading),S(e.keys),L(e.position),R(e.identifier),P(e.clickable),M(e.accepted),Y(e.operands),te(e.values)}),[]);var ne=function(){i(!1),e.close()},ae=function(e){var t=Object(he.a)(Z);t=t.filter((function(t,n){return n!=e})),Y(Object(he.a)(t))},ce=function(e){var t=Object(he.a)(ee);t=t.filter((function(t,n){return n!=e})),te(Object(he.a)(t))};return Object(O.jsx)("div",{children:Object(O.jsxs)(K.a,{fullWidth:!0,open:c,onClose:ne,"aria-labelledby":"form-dialog-title",children:[Object(O.jsx)(V.a,{id:"form-dialog-title",children:"Add Feedback"}),Object(O.jsxs)(q.a,{children:[Object(O.jsx)(k.a,{fullWidth:!0,autoFocus:!0,margin:"dense",name:"title",label:"Title",type:"text",value:s,onChange:function(e){return u(e.target.value)}}),Object(O.jsx)(k.a,{fullWidth:!0,margin:"dense",name:"heading",label:"Heading",type:"text",value:b,onChange:function(e){return f(e.target.value)}}),Object(O.jsx)(k.a,{fullWidth:!0,margin:"dense",name:"subHeading",label:"Sub Heading",type:"text",value:x,onChange:function(e){return m(e.target.value)}}),Object(O.jsx)(k.a,{fullWidth:!0,margin:"dense",name:"key",label:"Key",type:"number",value:C,onChange:function(e){return S(e.target.value)}}),Object(O.jsx)(k.a,{fullWidth:!0,margin:"dense",name:"position",label:"Position",type:"number",value:W,onChange:function(e){return L(e.target.value)}}),Object(O.jsx)(k.a,{fullWidth:!0,margin:"dense",name:"identifier",label:"Identifier",type:"text",value:A,onChange:function(e){return R(e.target.value)}}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsx)(Se.a,{value:"clickable",control:Object(O.jsx)(we.a,{checked:B,onChange:function(e){return P(e.target.checked)},inputProps:{"aria-label":"primary checkbox"}}),label:"Clickable",labelPlacement:"start"}),Object(O.jsx)(Se.a,{value:"accepted",control:Object(O.jsx)(we.a,{checked:z,onChange:function(e){return M(e.target.checked)},inputProps:{"aria-label":"primary checkbox"}}),label:"Accepted",labelPlacement:"start"}),Object(O.jsxs)("div",{style:{margin:"15px",maxWidth:"100%"},children:[Object(O.jsx)("label",{children:" operands : "}),Z.map((function(e,t){return Object(O.jsx)(Te,{ind:t,value:e,onClick:ae})}))]}),Object(O.jsx)("div",{children:Object(O.jsx)(We,{onChange:function(e){var t=e.target;if(t.value){var n=Object(he.a)(Z);n=[].concat(Object(he.a)(n),[t.value.toUpperCase()]),Y(Object(he.a)(n))}},lebal:"operands",placeholder:"Operands"})}),Object(O.jsxs)("div",{style:{margin:"15px",maxWidth:"100%"},children:[Object(O.jsx)("label",{children:" values : "}),ee.map((function(e,t){return Object(O.jsx)(Te,{ind:t,value:e,onClick:ce})}))]}),Object(O.jsx)("div",{children:Object(O.jsx)(We,{onChange:function(e){var t=e.target;if(t.value){var n=Object(he.a)(ee);n=[].concat(Object(he.a)(n),[t.value.toUpperCase()]),te(Object(he.a)(n))}},lebal:"values",placeholder:"Values"})})]}),Object(O.jsxs)(G.a,{children:[Object(O.jsx)(h.a,{onClick:ne,color:"primary",children:"Cancel"}),Object(O.jsx)(h.a,{onClick:function(){if(!s||!b||!x||!A)return alert("Check fields");var t={title:s,heading:b,subHeading:x,identifier:A,position:W,clickable:B,accepted:z,operands:Z,values:ee,key:Number(C)};(function(e){var t=e.feedbackId,n=e.data,a=e.token,c=U+"/feedback/update/".concat(t);return I.a.put(c,n,{headers:{authorization:"Bearer ".concat(a)}})})({feedbackId:e._id,data:t,token:localStorage.getItem("token")}).then((function(t){e.getFeedbacks(),e.close()})).catch((function(e){console.log(e.message),alert("something went wrong!")}))},color:"primary",children:"Update"})]})]})})}var Te=function(e){var t=e.ind,n=e.onClick,a=e.value;return Object(O.jsxs)("div",{role:"button",className:"MuiAutocomplete-root  MuiChip-root MuiAutocomplete-tag MuiChip-outlined MuiChip-deletable",children:[Object(O.jsx)("span",{className:"MuiChip-label",children:a}),Object(O.jsx)("svg",{onClick:function(){return n(t)},className:"MuiSvgIcon-root MuiChip-deleteIcon",focusable:"false",viewBox:"0 0 24 24","aria-hidden":"true",children:Object(O.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"})})]},t)};function Ne(e){var t=Object(s.g)().historyId,n=Object(a.useState)(!0),c=Object(o.a)(n,2),i=c[0],r=c[1],l=Object(a.useState)(""),u=Object(o.a)(l,2),j=u[0],d=u[1],b=Object(a.useState)(""),f=Object(o.a)(b,2),g=f[0],p=f[1],x=Object(a.useState)(""),m=Object(o.a)(x,2),v=m[0],y=m[1],C=Object(a.useState)(""),S=Object(o.a)(C,2),w=S[0],_=S[1],U=Object(a.useState)(""),W=Object(o.a)(U,2),L=W[0],T=W[1],N=Object(a.useState)(""),A=Object(o.a)(N,2),R=A[0],E=A[1],D=Object(a.useState)(!1),B=Object(o.a)(D,2),P=B[0],H=B[1],F=Object(a.useState)(!1),z=Object(o.a)(F,2),M=z[0],J=z[1],X=Object(a.useState)([]),Z=Object(o.a)(X,2),Y=Z[0],Q=Z[1],$=Object(a.useState)([]),ee=Object(o.a)($,2),te=ee[0],ne=ee[1];Object(a.useEffect)((function(){}),[]);var ae=function(){r(!1),e.close()},ce=function(e){var t=Object(he.a)(Y);t=t.filter((function(t,n){return n!=e})),Q(Object(he.a)(t))},ie=function(e){var t=Object(he.a)(te);t=t.filter((function(t,n){return n!=e})),ne(Object(he.a)(t))};return Object(O.jsx)("div",{children:Object(O.jsxs)(K.a,{fullWidth:!0,open:i,onClose:ae,"aria-labelledby":"form-dialog-title",children:[Object(O.jsx)(V.a,{id:"form-dialog-title",children:"Add Feedback"}),Object(O.jsxs)(q.a,{children:[Object(O.jsx)(k.a,{fullWidth:!0,autoFocus:!0,margin:"dense",name:"title",label:"Title",type:"text",value:j,onChange:function(e){return d(e.target.value)}}),Object(O.jsx)(k.a,{fullWidth:!0,margin:"dense",name:"heading",label:"Heading",type:"text",value:g,onChange:function(e){return p(e.target.value)}}),Object(O.jsx)(k.a,{fullWidth:!0,margin:"dense",name:"subHeading",label:"Sub Heading",type:"text",value:v,onChange:function(e){return y(e.target.value)}}),Object(O.jsx)(k.a,{fullWidth:!0,margin:"dense",name:"key",label:"Key",type:"number",value:w,onChange:function(e){return _(e.target.value)}}),Object(O.jsx)(k.a,{fullWidth:!0,margin:"dense",name:"position",label:"Position",type:"number",value:L,onChange:function(e){return T(e.target.value)}}),Object(O.jsx)(k.a,{fullWidth:!0,margin:"dense",name:"identifier",label:"Identifier",type:"text",value:R,onChange:function(e){return E(e.target.value)}}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsx)(Se.a,{value:"clickable",control:Object(O.jsx)(we.a,{checked:P,onChange:function(e){return H(e.target.checked)},inputProps:{"aria-label":"primary checkbox"}}),label:"Clickable",labelPlacement:"start"}),Object(O.jsx)(Se.a,{value:"accepted",control:Object(O.jsx)(we.a,{checked:M,onChange:function(e){return J(e.target.checked)},inputProps:{"aria-label":"primary checkbox"}}),label:"Accepted",labelPlacement:"start"}),Object(O.jsxs)("div",{style:{margin:"15px",maxWidth:"100%"},children:[Object(O.jsx)("label",{children:" operands : "}),Y.map((function(e,t){return Object(O.jsx)(Ae,{ind:t,value:e,onClick:ce})}))]}),Object(O.jsx)("div",{children:Object(O.jsx)(We,{onChange:function(e){var t=e.target;if(t.value){var n=Object(he.a)(Y);n=[].concat(Object(he.a)(n),[t.value.toUpperCase()]),Q(Object(he.a)(n))}},lebal:"operands",placeholder:"Operands"})}),Object(O.jsxs)("div",{style:{margin:"15px",maxWidth:"100%"},children:[Object(O.jsx)("label",{children:" values : "}),te.map((function(e,t){return Object(O.jsx)(Ae,{ind:t,value:e,onClick:ie})}))]}),Object(O.jsx)("div",{children:Object(O.jsx)(We,{onChange:function(e){var t=e.target;if(t.value){var n=Object(he.a)(te);n=[].concat(Object(he.a)(n),[t.value.toUpperCase()]),ne(Object(he.a)(n))}},lebal:"values",placeholder:"Values"})})]}),Object(O.jsxs)(G.a,{children:[Object(O.jsx)(h.a,{onClick:ae,color:"primary",children:"Cancel"}),Object(O.jsx)(h.a,{onClick:function(){if(!j||!g||!v||!R||!w||!L||!t)return alert("Check fields");(function(e){var t=e.data,n=e.token;return I.a.post("http://35.178.22.72:4571/feedback/create",t,{headers:{authorization:"Bearer ".concat(n)}})})({data:{title:j,heading:g,subHeading:v,identifier:R,position:L,clickable:P,accepted:M,operands:Y,values:te,key:w,historyId:t},token:localStorage.getItem("token")}).then((function(t){e.getFeedbacks(),e.close()})).catch((function(e){console.log(e.message),alert("something went wrong!")}))},color:"primary",children:"Add"})]})]})})}var Ae=function(e){var t=e.ind,n=e.onClick,a=e.value;return Object(O.jsxs)("div",{role:"button",className:"MuiAutocomplete-root  MuiChip-root MuiAutocomplete-tag MuiChip-outlined MuiChip-deletable",children:[Object(O.jsx)("span",{className:"MuiChip-label",children:a}),Object(O.jsx)("svg",{onClick:function(){return n(t)},className:"MuiSvgIcon-root MuiChip-deleteIcon",focusable:"false",viewBox:"0 0 24 24","aria-hidden":"true",children:Object(O.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"})})]},t)},Re=[{id:"title",label:"Title",minWidth:50},{id:"heading",label:"Heading"},{id:"subheading",label:"Sub Heading"},{id:"actions",label:"Actions",align:"center"}],Ee=Object(u.a)({root:{width:"100%"},container:{maxHeight:440}});function De(e){var t=Ee(),n=Object(s.f)().push,i=c.a.useState(1),r=Object(o.a)(i,2),l=(r[0],r[1],c.a.useState(!1)),u=Object(o.a)(l,2),j=u[0],d=u[1],b=c.a.useState(!1),f=Object(o.a)(b,2),g=f[0],p=f[1],x=c.a.useState({}),m=Object(o.a)(x,2),v=m[0],y=m[1];Object(a.useEffect)((function(){}),[e]);var C=function(t){return window.confirm("Are sure to delete")?function(e){var t=e.feedbackId,n=e.token,a=U+"/feedback/delete/".concat(t);return I.a.delete(a,{headers:{authorization:"Bearer ".concat(n)}})}({feedbackId:t,token:localStorage.getItem("token")}).then((function(t){e.getFeedbacks()})):alert("Not delted")};return Object(O.jsxs)(A.a,{className:t.root,children:[Object(O.jsxs)(B.a,{className:t.container,children:[Object(O.jsx)(h.a,{onClick:function(){return p(!0)},style:{background:"lightGrey"},children:"Add New"}),Object(O.jsxs)(R.a,{stickyHeader:!0,"aria-label":"sticky table",children:[Object(O.jsx)(P.a,{children:Object(O.jsx)(F.a,{children:Re.map((function(e){return Object(O.jsx)(D.a,{align:e.align,style:{minWidth:e.minWidth},children:e.label},e.id)}))})}),Object(O.jsx)(E.a,{children:e.complaints&&e.complaints.map((function(e,t){return Object(O.jsxs)(F.a,{children:[Object(O.jsx)(D.a,{align:"left",children:e.title},"name_".concat(t+e.title)),Object(O.jsx)(D.a,{align:"left",children:e.heading},"name_".concat(t+e.heading)),Object(O.jsx)(D.a,{align:"left",children:e.subHeading},"name_".concat(t+e.subHeading)),Object(O.jsxs)(D.a,{align:"center",children:[Object(O.jsx)(ie.a,{className:"pointer",onClick:function(){!function(e){d(!0),y(e)}(e)}}),Object(O.jsx)(oe.a,{className:"pointer",onClick:function(){return C(e._id)}}),Object(O.jsx)(M.a,{className:"pointer",onClick:function(){return n("/card/".concat(e._id))}})]},"icon_".concat(t+e.id))]},t)}))})]})]}),j&&Object(O.jsx)(Le,Object(N.a)(Object(N.a)(Object(N.a)({},e),v),{},{keys:v.key,close:function(){return d(!1)}})),g&&Object(O.jsx)(Ne,Object(N.a)(Object(N.a)(Object(N.a)({},e),v),{},{close:function(){return p(!1)}}))]})}n(605);var Be=function(e){var t=Object(s.g)().historyId,n=Object(s.f)(),c=Object(a.useState)([]),i=Object(o.a)(c,2),r=i[0],u=i[1],j=Object(a.useState)(1),d=Object(o.a)(j,2),h=d[0],f=(d[1],Object(a.useState)(0)),g=Object(o.a)(f,2),p=g[0];g[1];Object(a.useEffect)((function(){x()}),[]);var x=function(){(function(e){var t=U+"/feedback/get/".concat(e.historyId);return I.a.get(t,{headers:{authorization:"Bearer ".concat(e.token)}})})({historyId:t,token:localStorage.getItem("token")}).then((function(e){console.log("ER ",e);var t=e.data.data,n=t.feedbacks;t.count;u(n)}))};return Object(O.jsxs)("div",{className:"complaintsContainer",children:[Object(O.jsxs)("span",{children:[" ",Object(O.jsx)(l.b,{to:"/",children:"Complaints"})," / ",Object(O.jsx)(l.b,{to:"#",onClick:function(){return n.goBack()},children:"Histories"})," / Feedbacks"]}),Object(O.jsx)(b.a,{variant:"h4",children:" Feedbacks "}),Object(O.jsx)("hr",{}),Object(O.jsx)("div",{className:"tableWrapper",children:Object(O.jsx)(De,{complaints:r,getFeedbacks:x,length:p,page:h-1})})]})},Pe={text:"",title:"",position:0,iconUlr:"https://osceai.s3.ap-south-1.amazonaws.com/complaints/love%403x.png"};function He(e){var t=Object(a.useState)(!0),n=Object(o.a)(t,2),c=n[0],i=n[1],r=Object(a.useState)(!1),l=Object(o.a)(r,2),s=l[0],u=l[1],j=Object(a.useState)(""),d=Object(o.a)(j,2),b=d[0],f=d[1],g=Object(a.useState)(""),p=Object(o.a)(g,2),v=p[0],y=p[1],C=Object(a.useState)({}),S=Object(o.a)(C,2),w=S[0],_=S[1],W=Object(a.useState)([Pe]),L=Object(o.a)(W,2),T=L[0],A=L[1];Object(a.useEffect)((function(){f(e.title),y(e.iconUrl),A(e.tileData)}),[]);var R=function(){i(!1),e.close()},E=function(){var e=Object(m.a)(x.a.mark((function e(t,n){var a,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=new Date,(c=Y({Bucket:"osceai/cards",Key:"".concat(n+a.toUTCString()+"_"+a.toLocaleTimeString(),".png"),Body:t}).promise()).then((function(e){y(e.Location),u(!0)})),c.catch((function(e){console.log("ERR UPLOAD",e.message),alert("something went wrong!")}));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),D=function(e,t){var n=t.value,a=t.name,c=Object(he.a)(T),i=Object(N.a)({},c[e]);i[a]=n,c[e]=i,A(c)},B=function(e){var t=Object(he.a)(T);t=t.filter((function(t,n){return n!==e})),A(t)},P=function(){var e=Object(he.a)(T);e[0]=Pe,A(e)};return Object(O.jsx)("div",{children:Object(O.jsxs)(K.a,{fullWidth:!0,open:c,onClose:R,"aria-labelledby":"form-dialog-title",children:[Object(O.jsx)(V.a,{id:"form-dialog-title",children:"Edit Card/Info"}),Object(O.jsxs)(q.a,{children:[Object(O.jsx)(k.a,{fullWidth:!0,autoFocus:!0,margin:"dense",name:"title",label:"Title",type:"text",value:b,onChange:function(e){return f(e.target.value)}}),v&&Object(O.jsx)("div",{style:{width:"80px",height:"80px",margin:"10px"},children:Object(O.jsx)("img",{style:{width:"50px",height:"50px"},src:v,alt:"icon"})}),!s&&(w&&w.name?Object(O.jsx)(h.a,{variant:"contained",color:"primary",onClick:function(){return E(w,"iconUrl")},children:"Upload Icon"}):Object(O.jsxs)(h.a,{variant:"contained",component:"label",children:["Select Icon",Object(O.jsx)("input",{type:"file",accept:"image/*",hidden:!0,onChange:function(e){var t=e.target.files;y(URL.createObjectURL(t[0])),_(t[0])}})]})),Object(O.jsxs)("div",{style:{margin:"20px"},children:[Object(O.jsx)("h4",{children:"Tile Data"}),T.map((function(e,t){return Object(O.jsx)(Fe,Object(N.a)(Object(N.a)({},e),{},{index:t,onChange:D,handleDrop:B,handleZeroIndex:P}))}))]}),Object(O.jsx)(h.a,{onClick:function(){var e=Object(he.a)(T);e=[].concat(Object(he.a)(e),[Pe]),A(e)},variant:"contained",color:"primary",children:"Add More tiles"})]}),Object(O.jsxs)(G.a,{children:[Object(O.jsx)(h.a,{onClick:R,color:"primary",children:"Cancel"}),Object(O.jsx)(h.a,{onClick:function(){if(!b)return alert("Title field is required!");if(e.iconUrl!=v&&!s)return alert("Icon is required!");var t={title:b,iconUrl:v,tileData:T};(function(e){var t=e.cardId,n=e.data,a=e.token,c=U+"/moreInfo/".concat(t);return I.a.put(c,n,{headers:{authorization:"Bearer ".concat(a)}})})({cardId:e._id,data:t,token:localStorage.getItem("token")}).then((function(t){e.getCards(),e.close()})).catch((function(e){console.log("ERR ",e.message),alert("something went wrong!")}))},color:"primary",children:"Update"})]})]})})}var Fe=function(e){var t=Object(a.useState)(!1),n=Object(o.a)(t,2),c=n[0],i=n[1],r=Object(a.useState)(e.iconUlr),l=Object(o.a)(r,2),s=l[0],u=l[1],j=Object(a.useState)(),d=Object(o.a)(j,2),b=d[0],f=d[1],g=function(){var t=Object(m.a)(x.a.mark((function t(n,a){var c,r;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c=new Date,(r=Y({Bucket:"osceai/cards",Key:"".concat(a+c.toUTCString()+"_"+c.toLocaleTimeString(),".png"),Body:n}).promise()).then((function(t){u(t.Location),"iconUlr"===a&&i(!0),e.onChange(e.index,{name:a,value:t.Location})})),r.catch((function(e){console.log("ERR UPLOAD",e.message),alert("something went wrong!")}));case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}();return Object(O.jsxs)("div",{style:{padding:"5px"},children:[Object(O.jsx)(h.a,{onClick:function(){return 0===e.index?e.handleZeroIndex():e.handleDrop(e.index)},color:"secondary",variant:"contained",children:"X"}),Object(O.jsx)(k.a,{fullWidth:!0,margin:"dense",name:"title",label:"Title",type:"text",value:e.title,onChange:function(t){return e.onChange(e.index,t.target)}}),Object(O.jsx)(k.a,{fullWidth:!0,margin:"dense",name:"text",label:"Text",type:"text",value:e.text,onChange:function(t){return e.onChange(e.index,t.target)}}),Object(O.jsx)(k.a,{fullWidth:!0,margin:"dense",name:"position",label:"Position",type:"number",value:e.position,onChange:function(t){return e.onChange(e.index,t.target)}}),Object(O.jsxs)("div",{style:{margin:"15px"},children:[s&&Object(O.jsx)("div",{style:{width:"80px",height:"80px",margin:"10px"},children:Object(O.jsx)("img",{style:{width:"50px",height:"50px"},src:s,alt:"icon"})}),!c&&(b&&b.name?Object(O.jsx)(h.a,{variant:"contained",color:"primary",onClick:function(){return g(b,"iconUlr")},children:"Upload Icon"}):Object(O.jsxs)(h.a,{variant:"contained",component:"label",children:["Select Icon",Object(O.jsx)("input",{type:"file",accept:"image/*",hidden:!0,onChange:function(e){var t=e.target.files;u(URL.createObjectURL(t[0])),f(t[0])}})]}))]})]},e.index)},ze={text:"",title:"",position:0,iconUlr:"https://osceai.s3.ap-south-1.amazonaws.com/complaints/love%403x.png"};function Me(e){var t=Object(s.g)().feedbackId,n=Object(a.useState)(!0),c=Object(o.a)(n,2),i=c[0],r=c[1],l=Object(a.useState)(!1),u=Object(o.a)(l,2),j=u[0],d=u[1],b=Object(a.useState)(""),f=Object(o.a)(b,2),g=f[0],p=f[1],v=Object(a.useState)(""),y=Object(o.a)(v,2),C=y[0],S=y[1],w=Object(a.useState)({}),_=Object(o.a)(w,2),U=_[0],W=_[1],L=Object(a.useState)([ze]),T=Object(o.a)(L,2),A=T[0],R=T[1];Object(a.useEffect)((function(){}),[]);var E=function(){r(!1),e.close()},D=function(){var e=Object(m.a)(x.a.mark((function e(t,n){var a,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=new Date,(c=Y({Bucket:"osceai/cards",Key:"".concat(n+a.toUTCString()+"_"+a.toLocaleTimeString(),".png"),Body:t}).promise()).then((function(e){S(e.Location),d(!0)})),c.catch((function(e){console.log("ERR UPLOAD",e.message),alert("something went wrong!")}));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),B=function(e,t){var n=t.value,a=t.name,c=Object(he.a)(A),i=Object(N.a)({},c[e]);i[a]=n,c[e]=i,R(c)},P=function(e){var t=Object(he.a)(A);t=t.filter((function(t,n){return n!==e})),R(t)};return Object(O.jsx)("div",{children:Object(O.jsxs)(K.a,{fullWidth:!0,open:i,onClose:E,"aria-labelledby":"form-dialog-title",children:[Object(O.jsx)(V.a,{id:"form-dialog-title",children:"Add Card/Info"}),Object(O.jsxs)(q.a,{children:[Object(O.jsx)(k.a,{fullWidth:!0,autoFocus:!0,margin:"dense",name:"title",label:"Title",type:"text",value:g,onChange:function(e){return p(e.target.value)}}),C&&Object(O.jsx)("div",{style:{width:"80px",height:"80px",margin:"10px"},children:Object(O.jsx)("img",{style:{width:"50px",height:"50px"},src:C,alt:"icon"})}),!j&&(U&&U.name?Object(O.jsx)(h.a,{variant:"contained",color:"primary",onClick:function(){return D(U,"iconUlr")},children:"Upload Icon"}):Object(O.jsxs)(h.a,{variant:"contained",component:"label",children:["Select Icon",Object(O.jsx)("input",{type:"file",accept:"image/*",hidden:!0,onChange:function(e){var t=e.target.files;S(URL.createObjectURL(t[0])),W(t[0])}})]})),Object(O.jsxs)("div",{style:{margin:"20px"},children:[Object(O.jsx)("h4",{children:"Tile Data"}),A.map((function(e,t){return Object(O.jsx)(Ke,Object(N.a)(Object(N.a)({},e),{},{index:t,onChange:B,handleDrop:P}))}))]}),Object(O.jsx)(h.a,{onClick:function(){var e=Object(he.a)(A);e=[].concat(Object(he.a)(e),[ze]),R(e)},variant:"contained",color:"primary",children:"Add More tiles"})]}),Object(O.jsxs)(G.a,{children:[Object(O.jsx)(h.a,{onClick:E,color:"primary",children:"Cancel"}),Object(O.jsx)(h.a,{onClick:function(){if(!g||!C||!j)return alert("All fields are required!");(function(e){var t=e.data,n=e.token;return I.a.post("http://35.178.22.72:4571/moreInfo",t,{headers:{authorization:"Bearer ".concat(n)}})})({data:{title:g,iconUrl:C,tileData:A,feedbackId:t},token:localStorage.getItem("token")}).then((function(t){e.getCards(),e.close()})).catch((function(e){console.log("ERR ",e.message),alert("something went wrong!")}))},color:"primary",children:"Add"})]})]})})}var Ke=function(e){var t=Object(a.useState)(!1),n=Object(o.a)(t,2),c=n[0],i=n[1],r=Object(a.useState)(""),l=Object(o.a)(r,2),s=l[0],u=l[1],j=Object(a.useState)(),d=Object(o.a)(j,2),b=d[0],f=d[1],g=function(){var t=Object(m.a)(x.a.mark((function t(n,a){var c,r;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c=new Date,(r=Y({Bucket:"osceai/cards",Key:"".concat(a+c.toUTCString()+"_"+c.toLocaleTimeString(),".png"),Body:n}).promise()).then((function(t){u(t.Location),"iconUlr"===a&&i(!0),e.onChange(e.index,{name:a,value:t.Location})})),r.catch((function(e){console.log("ERR UPLOAD",e.message),alert("something went wrong!")}));case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}();return Object(O.jsxs)("div",{style:{padding:"5px"},children:[e.index>0&&Object(O.jsx)(h.a,{onClick:function(){return e.handleDrop(e.index)},color:"secondary",variant:"contained",children:"X"}),Object(O.jsx)(k.a,{fullWidth:!0,margin:"dense",name:"title",label:"Title",type:"text",value:e.title,onChange:function(t){return e.onChange(e.index,t.target)}}),Object(O.jsx)(k.a,{fullWidth:!0,margin:"dense",name:"text",label:"Text",type:"text",value:e.text,onChange:function(t){return e.onChange(e.index,t.target)}}),Object(O.jsx)(k.a,{fullWidth:!0,margin:"dense",name:"position",label:"Position",type:"number",value:e.position,onChange:function(t){return e.onChange(e.index,t.target)}}),Object(O.jsxs)("div",{style:{margin:"15px"},children:[s&&Object(O.jsx)("div",{style:{width:"80px",height:"80px",margin:"10px"},children:Object(O.jsx)("img",{style:{width:"50px",height:"50px"},src:s,alt:"icon"})}),!c&&(b&&b.name?Object(O.jsx)(h.a,{variant:"contained",onClick:function(){return g(b,"iconUlr")},children:"Upload Icon"}):Object(O.jsxs)(h.a,{variant:"contained",component:"label",children:["Select Icon",Object(O.jsx)("input",{type:"file",accept:"image/*",hidden:!0,onChange:function(e){var t=e.target.files;u(URL.createObjectURL(t[0])),f(t[0])}})]}))]})]},e.index)},Ge=[{id:"title",label:"Title",minWidth:50},{id:"iconUlr",label:"Icon"},{id:"actions",label:"Actions",align:"center"}],qe=Object(u.a)({root:{width:"100%"},container:{maxHeight:440}});function Ve(e){var t=qe(),n=c.a.useState(1),i=Object(o.a)(n,2),r=(i[0],i[1],c.a.useState(!1)),l=Object(o.a)(r,2),s=l[0],u=l[1],j=c.a.useState(!1),d=Object(o.a)(j,2),b=d[0],f=d[1],g=c.a.useState({}),p=Object(o.a)(g,2),x=p[0],m=p[1];Object(a.useEffect)((function(){}),[e]);var v=function(t){(function(e){var t=e.cardId,n=e.token,a=U+"/moreInfo/".concat(t);return I.a.delete(a,{headers:{authorization:"Bearer ".concat(n)}}).then((function(e){return e})).catch((function(e){return e.message}))})({cardId:t._id,token:localStorage.getItem("token")}).then((function(t){if("string"===typeof t)return alert("Something went Wrong!");e.getCards()}))};return Object(O.jsxs)(A.a,{className:t.root,children:[Object(O.jsxs)(B.a,{className:t.container,children:[Object(O.jsx)(h.a,{onClick:function(){return f(!0)},style:{background:"lightGrey"},children:"Add New"}),Object(O.jsxs)(R.a,{stickyHeader:!0,"aria-label":"sticky table",children:[Object(O.jsx)(P.a,{children:Object(O.jsx)(F.a,{children:Ge.map((function(e){return Object(O.jsx)(D.a,{align:e.align,style:{minWidth:e.minWidth},children:e.label},e.id)}))})}),Object(O.jsx)(E.a,{children:e.complaints&&e.complaints.map((function(e,t){return Object(O.jsxs)(F.a,{children:[Object(O.jsx)(D.a,{align:"left",children:e.title},"title_".concat(t+e.title)),Object(O.jsx)(D.a,{align:"left",children:Object(O.jsx)("img",{style:{width:"20px",height:"20px"},src:e.iconUrl,alt:"iconUrl"})},"icon_".concat(t+e.iconUrl)),Object(O.jsxs)(D.a,{align:"center",children:[Object(O.jsx)(ie.a,{className:"pointer",onClick:function(){!function(e){u(!0),m(e)}(e)}}),Object(O.jsx)(oe.a,{className:"pointer",onClick:function(){v(e)}})]},"actions_".concat(t+e.id))]},t)}))})]})]}),s&&Object(O.jsx)(He,Object(N.a)(Object(N.a)(Object(N.a)({},e),x),{},{close:function(){return u(!1)}})),b&&Object(O.jsx)(Me,Object(N.a)(Object(N.a)(Object(N.a)({},e),x),{},{close:function(){return f(!1)}}))]})}n(606);var Je=function(e){var t=Object(s.f)(),n=Object(s.g)().feedbackId,c=Object(a.useState)([]),i=Object(o.a)(c,2),r=i[0],u=i[1],j=Object(a.useState)(1),d=Object(o.a)(j,2),h=d[0],f=(d[1],Object(a.useState)(0)),g=Object(o.a)(f,2),p=g[0],x=g[1];Object(a.useEffect)((function(){m()}),[]);var m=function(){(function(e){var t=U+"/moreInfo/".concat(e.feedbackId);return I.a.get(t,{headers:{authorization:"Bearer ".concat(e.token)}})})({feedbackId:n,token:localStorage.getItem("token")}).then((function(e){var t=e.data.data,n=(t.histories,t.count);x(n),u(e.data.data)}))};return Object(O.jsxs)("div",{className:"complaintsContainer",children:[Object(O.jsxs)("span",{children:[" ",Object(O.jsx)(l.b,{to:"/",children:"Complaints"})," / Histories / ",Object(O.jsx)(l.b,{to:"#",onClick:function(){return t.goBack()},children:"Feedbacks"})," / MoreInfo"]}),Object(O.jsx)(b.a,{variant:"h4",children:" Cards/MoreInformation "}),Object(O.jsx)("hr",{}),Object(O.jsx)("div",{className:"tableWrapper",children:Object(O.jsx)(Ve,{complaints:r,getCards:m,length:p,page:h-1})})]})};function Xe(){var e=Object(a.useState)(!1),t=Object(o.a)(e,2),n=t[0],c=t[1];Object(a.useEffect)((function(){localStorage.getItem("token")&&c(!0)}),[]);var i=function(){return c(!0)};return Object(O.jsx)(l.a,{children:Object(O.jsx)(s.c,{children:n?Object(O.jsxs)(g,{logOut:function(){localStorage.clear(),c(!1)},children:[Object(O.jsx)(s.a,{exact:!0,path:"/",component:ae}),Object(O.jsx)(s.a,{exact:!0,path:"/history/:complaintId",component:be}),Object(O.jsx)(s.a,{exact:!0,path:"/condition/:historyId",component:ke}),Object(O.jsx)(s.a,{exact:!0,path:"/feedback/:historyId",component:Be}),Object(O.jsx)(s.a,{exact:!0,path:"/card/:feedbackId",component:Je})]}):Object(O.jsx)(s.a,{path:"/",component:function(){return Object(O.jsx)(L,{logIn:i})}})})})}n(607);var Ze=function(){return Object(O.jsx)(Xe,{})},Ye=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,676)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),i(e),r(e)}))};r.a.render(Object(O.jsx)(c.a.StrictMode,{children:Object(O.jsx)(Ze,{})}),document.getElementById("root")),Ye()}},[[608,1,2]]]);
//# sourceMappingURL=main.5b2d1ede.chunk.js.map